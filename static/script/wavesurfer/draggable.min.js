function makeDraggable(v,d,l,p,u=5){let c=()=>{};if(!v)return c;const e=e=>{if(2!==e.button){e.preventDefault(),e.stopPropagation();let r=e.clientX,i=e.clientY,a=!1;const t=e=>{e.preventDefault(),e.stopPropagation();var t,n,o=e.clientX,e=e.clientY;(a||Math.abs(o-r)>=u||Math.abs(e-i)>=u)&&({left:t,top:n}=v.getBoundingClientRect(),a||(a=!0,null!=l&&l(r-t,i-n)),d(o-r,e-i,o-t,e-n),r=o,i=e)},n=e=>{a&&(e.preventDefault(),e.stopPropagation())},o=()=>{a&&null!=p&&p(),c()};document.addEventListener("pointermove",t),document.addEventListener("pointerup",o),document.addEventListener("pointerleave",o),document.addEventListener("click",n,!0),c=()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",o),document.removeEventListener("pointerleave",o),setTimeout(()=>{document.removeEventListener("click",n,!0)},10)}}};return v.addEventListener("pointerdown",e),()=>{c(),v.removeEventListener("pointerdown",e)}}export{makeDraggable};